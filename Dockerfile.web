# Web service Dockerfile
FROM gcr.io/distroless/python3-debian11

WORKDIR /app

# Copy application code
COPY web/ /app/web/
COPY static/ /app/static/

# Install dependencies
COPY requirements.txt /app/requirements.txt
RUN python3 -m pip install --no-cache-dir -r /app/requirements.txt

# Set environment variables
ENV PYTHONUNBUFFERED=1

# Expose port for the web service
EXPOSE 8080

# Command to run the web service
CMD ["python3", "web/app.py"]
